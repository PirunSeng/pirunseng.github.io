
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Pirun Seng</title>
  <meta name="author" content="Pirun">

  
  <meta name="description" content="Carrierwave is a classier solution for file uploads for Rails, Sinatra and other Ruby web frameworks. I am going to demonstrate How to: Upload files &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pirunseng.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Pirun Seng" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Pirun Seng</a></h1>
  
    <h2>Ruby on Rails Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="pirunseng.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/23/how-to-upload-files-from-remote-location-with-carrierwave/">How to Upload Files From Remote Location With Carrierwave</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-23T22:24:02+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2017</span></span> <span class='time'>10:24 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Carrierwave</strong> is a classier solution for file uploads for Rails, Sinatra and other Ruby web frameworks.</p>

<p>I am going to demonstrate <strong>How to: Upload files from a remote location to JSONB or Array image column</strong>.
For installation and configuration, I would recommend you to read <a href="https://github.com/carrierwaveuploader/carrierwave">Carrierwave document</a>.</p>

<p>Let say we have an <strong>Avatar</strong> model with an <code>image</code> column of array data type.
To create a new Avatar record with an image:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>avatar = Avatar.new
</span><span class='line'>avatar.remote_image_urls = ['https://image.flaticon.com/icons/png/512/25/25231.png']
</span><span class='line'>avatar.save</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong> We use <code>remote_image_urls</code> for <strong>jsonb</strong> or <strong>array</strong> data type column while we use <code>remote_image_url</code> for <strong>string</strong> data type column.</p>

<p>Please feel tree to replace <code>image</code> to any column name you use to store the file or image. e.g If your <strong>Avatar</strong> model has a column named <code>photo</code>, then you might want to modify the syntax above to <code>remote_photo_url</code> and <code>remote_photo_urls</code>.</p>

<p>You can dig deeper to its source code <a href="https://github.com/carrierwaveuploader/carrierwave/blob/87c37b706c560de6d01816f9ebaa15ce1c51ed58/lib/carrierwave/mount.rb">here</a>.</p>

<p>Happy coding!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/22/fast-finder/">Fast Finder</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-22T10:22:57+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2017</span></span> <span class='time'>10:22 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a searcher, I usually spend much time looking for what I want and the right thing.
Anyway, I sometimes feel not really good to spend much time looking for the things, but I still cannot find the right resources or solutions.</p>

<p>This makes me create a <em>simple app</em> called <strong>Fast Finder</strong> which <em>records all right resources and solutions</em> I have found. The main objective is to find the right thing faster. I hosted it on <a href="https://www.heroku.com/">Heroku</a>.</p>

<p>Recently, most resources are for <strong>Ruby</strong> and <strong>Ruby on Rails</strong> as I am a Rails Developer. Anyway, it will be for many more languages, programming languages, frameworks and technologies as it is growing and from your contribution.</p>

<p>Check out the link here: <a href="https://fastfinder.herokuapp.com/">Fast Finder</a></p>

<p>Nice day!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/22/make-use-of-library-we-use/">Make Use of Library We Use</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-22T10:12:47+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2017</span></span> <span class='time'>10:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When I was a fresh <strong>Software Developer</strong>, I usually looked for libraries which were suit for programming language I used <strong>Ruby</strong>, in my case.</p>

<p>It is awesome that there is a <strong>Ruby on Rails</strong> which is a framework for <strong>Ruby</strong>. Plus, there are lots of <a href="https://rubygems.org/">Ruby Gems</a> that are designed to help building software with <strong>Ruby</strong> and <strong>Ruby on Rails</strong> as well.</p>

<p>Jump to the point, when I used any Ruby gems, I just built thing with its main and basic usage. Once I came up with an idea to build something more advanced along with that library, my brainstorm was to write the things from scratch. Then, I did research on google for some concepts.</p>

<p>Soon, there was another idea came to my brain. <em>&ldquo;Why didn&rsquo;t I read more document about the library I were using to see whether or not it had what I wanted?&rdquo;</em></p>

<p>Bang! It was just a few minutes searching the feature in its the document, I found the exactly thing as I wanted.</p>

<p>To sum up, it is good to know what main features exist in the library we use, but it is much better to discover everything it can do.</p>

<p>Happy coding!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/22/undo-git-merge/">Undo Git Merge</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-22T09:52:46+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2017</span></span> <span class='time'>9:52 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/git.png" title="Git" alt="Git" /></p>

<p><strong>Git</strong> is awesome and that I&rsquo;ve used it along with my career, software development, so far.</p>

<p>I sometimes get confused doing git merge between branches. When it is a tough time preparing to release my feature to test server in which I have to merge the latest master branch, into my current working branch, let say <strong>update-layout</strong> branch.</p>

<p>Unexpectedly, I have merged <strong>update-layout</strong> into <strong>master</strong>. Actually, I want to merge <strong>master</strong> into <strong>update-layout</strong>.</p>

<p>Luckily, I haven&rsquo;t pushed the master yet so that I can revert/undo merge safely.</p>

<p>To undo the merge, it is as simply as the following:</p>

<ul>
<li>Stay on <strong>master</strong> branch by <code>git checkout master</code></li>
<li>Type <code>git log</code> on the terminal to see the commit histories.</li>
<li>Find the latest commit of <strong>master</strong> branch we want to revert to.</li>
<li>Copy the commit <strong>sha</strong>, e.g. <strong>dbf0e49</strong>.</li>
<li>Back to terminal and type <code>git reset --hard dbf0e49</code></li>
<li>It&rsquo;s done! We&rsquo;re on the latest commit as we want to revert/undo merge.</li>
</ul>


<p>If we&rsquo;re ready to merge <strong>update-layout</strong> into <strong>master</strong> or redo merge, it can be done easily for just do the merge again.</p>

<p>Happy with Git!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/21/copy-file-and-entire-directory-from-amazon-s3/">Copy File and Entire Directory From Amazon S3 to Local Machine</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-21T18:06:56+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2017</span></span> <span class='time'>6:06 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>First thing we need to do is to install <strong>Amazon Web Service Command Line Interface</strong> (AWS CLI).</p>

<p>Depending on your environment, there are different ways to <a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html">install AWS CLI</a>. I&rsquo;m using Mac OSX, and I prefer to install it via Homebrew <code>brew install awscli</code>.</p>

<p>Then we need to configure awscli by running: <code>aws configure</code>. You will be prompted to put your AWS Access Key Id, Secret Key, Region and Output. The following is an example:</p>

<pre><code>Access key : foo
Secret key : bar
Region     : us-west-1
Output     : json
</code></pre>

<p>We are all set. Now, I gonna show you how we copy a specific file and an entire directory from Amazon S3.</p>

<p><strong>Copy a file : </strong> <code>aws s3 cp s3://bucket_name/dir/file.png local_path</code></p>

<p><strong>Copy a directory : </strong> <code>aws s3 cp --recursive s3://bucket_name/dir local_path</code></p>

<p>The example above, I show you how to copy a file, &lsquo;file.png&rsquo;, and an entire directory, &lsquo;dir&rsquo;, by specifying <code>--recursive</code> option from Amazon S3 to your local machine or directory where you specify <code>local_path</code>.</p>

<p>Enjoy!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/20/backup-and-restore-postgres-database-from-amazon-rds/">Backup and Restore Postgres Database From Amazon RDS</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-20T16:59:33+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>4:59 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are two things might happen when we do the backup and restore database. We need to know whether the database is located in local server or in any separate server like RDS.</p>

<p>Here, I&rsquo;d like to raise two ways of backup Postgres database. One is the local database, and other one is the separate database.</p>

<p><strong>Local Database</strong></p>

<pre><code>Backup: pg_dump -n schema_name -d db_name &gt; backup_filename.dump

Restore: psql db_name &lt; backup_filename.dump
</code></pre>

<p><strong>Host Database (Amazon RDS)</strong> (You will be prompted to type your database password.)</p>

<pre><code>Backup: pg_dump -h db_host -p db_port -U db_user -n schema_name -d db_name &gt; backup_filename.dump

Restore: psql db_name -h db_host -p db_port -U db_user &lt; backup_filename.dump
</code></pre>

<p>You should notice that we need to specify database host, port and user if we have the database setup in a host server, Amazon RDS in my case. That is the important point that some developers might forget.</p>

<p>For further detail of the other backup and restore options, please refer to the <a href="https://www.postgresql.org/docs/">PostgreSQL docs</a> and look for database backup and that applies to the Postgres version you use.</p>

<p>Enjoy your DBA time!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/20/dump-postgres-data-from-specific-table/">Dump Postgres Data From Specific Table</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-20T15:59:56+07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>3:59 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you&rsquo;re in a hurry to make your code work as expected, and you don&rsquo;t prefer to read the document much, we have something in common. And this article is right for you.</p>

<p><img class="[test]" src="/images/pg/dump_table.png" title="Dump Table" ></p>

<p>If we haven&rsquo;t read the note of the document as the screenshot above, then we missed something. And what we missed is the prefix schema name on our table name. So, instead of <code>-n schema_name -t table_name</code>, we should use this <code>-t schema_name.table_name</code>.</p>

<p>Happy coding!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/10/23/how-to-upload-files-from-remote-location-with-carrierwave/">How to Upload Files From Remote Location With Carrierwave</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/22/fast-finder/">Fast Finder</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/22/make-use-of-library-we-use/">Make Use of Library We Use</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/22/undo-git-merge/">Undo Git Merge</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/21/copy-file-and-entire-directory-from-amazon-s3/">Copy File and Entire Directory From Amazon S3 to Local Machine</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Pirun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <span style="float: right;">
    <a href="https://www.linkedin.com/in/pirun-seng-87417097/" target="_blank">
      <img src="/images/linkedinFooter.png" alt="">
    </a>
    <a href="https://github.com/PirunSeng" target="_blank" style="margin-left: 5px;">
      <img src="/images/github.png" alt="" width="22" height="22">
    </a>
  </span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
